<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>History Admin assignment - Get Geocode via map.html</title>
<script src="../inc/js/jquery-1.7.2.min.js"></script>
</head>

<body>

<p>Learn a geocode by clicking on the map below</p>
<div id="cities"><input type="text" id="geo_lat"/><input type="text" id="geo_lon"/>Quick Links: </div>
<div id="map"  style=" width:100%; height:400px;"></div>

<!--attach Google maps API-->
<script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script><!--ctrl+u is shortcut-->

<!--attach Mapstraction with the google translate support-->
<script src="mxm-2.0.18/mxn.js?(googlev3)"></script>


<!--Custom code to Mapstraction API-->
<script>


$(document).ready(function() {

var map;
  var myLatlng = new google.maps.LatLng(49.3,-123.1);
  var myOptions = {
    zoom: 7,
    center: myLatlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  }
  map = new google.maps.Map(document.getElementById("map"), myOptions);

 
 google.maps.event.addListener(map, 'click', function(event) {
  var clickedLocation = new google.maps.LatLng(event.latLng);

  var point = event.latLng;
  var lat = point.lat();
  var lng = point.lng();
  document.getElementById("geo_lat").value = lat;
  document.getElementById("geo_lon").value = lng;
                              });
  var point = event.latLng;
  var lat = point.lat();
  var lng = point.lng();
  document.getElementById("geo_lat").value = lat;
  document.getElementById("geo_lon").value = lng;

});

</script>

</body>
</html>
